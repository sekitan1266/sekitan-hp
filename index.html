<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>sekitan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <h1>sekitan</h1>
  <p>GitHub Pages 動作確認</p>

  <div id="news-list"></div>
<a href="news.html">もっと見る</a>

<script>
fetch('data/news.json')
  .then(res => res.json())
  .then(data => {
    const container = document.getElementById('news-list');
    // 公開記事だけ抽出し、日付順にソート
    const published = data.filter(d => d.published)
                          .sort((a,b) => new Date(b.date) - new Date(a.date));
    // 最新5件だけ表示
    published.slice(0,5).forEach(item => {
      const div = document.createElement('div');
      div.innerHTML = `<strong>${item.date}</strong> ${item.title}<br>${item.summary}`;
      container.appendChild(div);
    });
  });
</script>

</body>
</html>
